<p>Input:<br><textarea id="input" rows="10" cols="80"></textarea>
    <p><button onclick="process()">Process</button>
    <p>Output:<br><textarea id="output" rows="10" cols="80"></textarea>
    
    <script>
    
    function process() 
    {
      x = document.getElementById("input").value
      y = x.toLowerCase()
      words = y.split(" ")
      output = ""
      for(i=0; i<words.length; i++) 
      {
            if (words[i]=="a" || words[i]=="an")
            {
                if (i<words.length-1)
                {
                    if (words[i+1].charAt(0) == "a")
                    {
                        words[i] = "an"
                    }
                    else if (words[i+1].charAt(0) == "e")
                    {
                        words[i] = "an"
                    }
                    else if (words[i+1].charAt(0) == "i")
                    {
                        words[i] = "an"
                    }
                    else if (words[i+1].charAt(0) == "o")
                    {
                        words[i] = "an"
                    }
                    else if (words[i+1].charAt(0) == "u")
                    {
                        words[i] = "an"
                    }
                    else
                    {
                        words[i] = "a"
                    }
                }
            }
            
            output=output.concat(words[i], " ")
      }
      document.getElementById("output").value = output
    }
    
    </script>